{% extends "electric_app/base.html" %}
{% load static %}
{% block title %}<title>Электрик в краснодаре: цены</title>{% endblock %}

{% block content %}
<!--<table class="table table-hover">-->
<!--    <tr>-->
<!--        <th>Наименование</th>-->
<!--        <th>единица измерения</th>-->
<!--        <th>Цена</th>-->
<!--        <th>Категория</th>-->


<!--    </tr>-->
<!--    {% for i in lists_price %}-->
<!--    <tr>-->
<!--        <td><p>{{ i.title }}</p></td>-->
<!--        <td><p>{{ i.unit }}</p></td>-->
<!--        <td><p>{{ i.price }}</p></td>-->
<!--        <td><p>{{ i.cat }}</p></td>-->

<!--    </tr>-->
<!--    {% endfor %}-->
<!--</table>-->





<!--{% for i in category %}-->
<!--    <ul>-->
<!--        <li><h3>{{i.name}}</h3></li>-->
<!--{% for j in list_price %}-->
<!--<ul>-->
<!--{% if i.pk == j.cat_id %}-->
<!--    <li>{{j.title}}</li>-->
<!--{% endif %}-->
<!--</ul>-->
<!--{% endfor %}-->
<!--</ul>-->
<!--{% endfor %}-->





<!--<div class="accordion" id="accordionPanelsStayOpenExample">-->

<!--  <div class="accordion-item">-->
<!--    <h2 class="accordion-header" id="panelsStayOpen-headingTwo">-->
<!--      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">-->
<!--        Аккордеонный элемент #2-->
<!--      </button>-->
<!--    </h2>-->
<!--    <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">-->
<!--      <div class="accordion-body">-->
<!--        <strong>Это тело аккордеона второго элемента.</strong> По умолчанию он скрыт, пока плагин свертывания не добавит соответствующие классы, которые мы используем для стилизации каждого элемента. Эти классы управляют общим внешним видом, а также отображением и скрытием с помощью переходов CSS. Вы можете изменить все это с помощью собственного CSS или переопределить наши переменные по умолчанию. Также стоит отметить, что практически любой HTML может быть помещен в <code>.accordion-body</code>, хотя переход ограничивает переполнение.-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->

<!--    -->

<!--</div>-->


<!--{% for category in categories %}-->
<!--  {{ category.name }}-->
<!--  {{ category.pk }}-->
<!--  <ul>-->
<!--  {% for i in category.price_set.all %}-->
<!--    <li>{{ i.title }}</li>-->
<!--  {% endfor %}-->
<!--  </ul>-->
<!--{% endfor %}-->

<!--<nav class="navbar navbar-secondary bg-dark">-->

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">

        <span style="width: 70%" class="navbar-text">
            Здесь предоставлены цены на услуги по категориям. Также вы можете осуществить поиск по интересующим вас позициям
        </span>
        <form action="{% url 'search' %}" class="d-flex"  method="get">
            <input name="search" class="form-control me-2" type="" placeholder="Введите наименование" aria-label="Search">
            <button class="btn btn-outline-secondary" type="submit">Найти</button>
        </form>
    </div>
</nav>


<div class="accordion accordion-info "  id="accordionPanelsStayOpenExample">
  {% for category in categories %}
  <div class="accordion-item">
    <h2 class="accordion-header" id="panelsStayOpen-heading{{ category.pk }}">
      <button style="color: dark" class="accordion-button collapsed btn-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapse{{ category.pk }}" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
        {{ category.name }}
      </button>
    </h2>
    <div id="panelsStayOpen-collapse{{ category.pk }}" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-heading{{ category.pk }}">
      <div class="accordion-body">
          <table class="table table-hover border border-dark table-striped table-bordered  ">
              <thead>
              <tr>
                  <th style="width: 65%" scope="col">Наименование услуги</th>
                  <th style="width: 10%" scope="col">Ед. изм</th>
                  <th style="width: 15%" scope="col">Цена (руб)</th>
              </tr>
              </thead>
              <tbody >
              {% for i in category.price_set.all %}
              <tr>
                  <td>{{ i.title }}</td>
                  <td>{{ i.unit }}</td>
                  <td>{{ i.price }}</td>
              </tr>
              {% endfor %}
              </tbody>
          </table>
      </div>
    </div>
  </div>
  {% endfor %}
</div>




</main>
{% endblock %}